1. 进程、线程、协程

   - 程序是存储在磁盘上的一些命令，程序一旦运行，就是进程
     每个进程分配独立的虚拟地址空间，CPU 会根据虚拟地址操作真实地址
     进程崩溃不会影响其他进程

     线程是 CPU 调度的基本单元，进程可以拥有多个线程，共享进程的地址空间，线程崩溃会影响进程

     协程也叫微线程，必做进程的子程序
     协程和线程的比较

| 比较项   | 线程                                                                       | 协程                                                                                                                                           |
| -------- | -------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------- |
| 占用资源 | 初始单位为 1MB,固定不可变                                                  | 初始一般为 2KB，可随需要而增大                                                                                                                 |
| 调度所属 | 由 OS 的内核完成                                                           | 由用户完成                                                                                                                                     |
| 切换开销 | 涉及模式切换(从用户态切换到内核态)、16 个寄存器、PC、SP...等寄存器的刷新等 | 只有三个寄存器的值修改 - PC / SP / DX.                                                                                                         |
| 性能问题 | 资源占用太高，频繁创建销毁会带来严重的性能问题                             | 资源占用小,不会带来严重的性能问题                                                                                                              |
| 数据同步 | 需要用锁等机制确保数据的一直性和可见性                                     | 不需要多线程的锁机制，因为只有一个线程，也不存在同时写变量冲突，在协程中控制共享资源不加锁，只需要判断状态就好了，所以执行效率比多线程高很多。 |

2. goroutine

    goroutine 属于协程

